exports.parse = function (str) {
	var media = {
		youtube : false,
		imgur 	: false,
		soundcloud : false,
		puush : false
	};

	if(str.indexOf("youtu") != -1) { //May contain a Youtube link
		var video_id = str.split('v=')[1];
		if(video_id) {
			var id_endposition = video_id.indexOf('&');
			if(id_endposition != -1) {
			  video_id = video_id.substring(0, id_endposition);
			}
			media.youtube = video_id.split(" ")[0];
		}
	}

	if(str.indexOf("i.imgur") != -1) { //May contain an imgur link
		var image = str.split('imgur.com/')[1];
		if(image != '') {
			media.imgur = "http://i.imgur.com/" + image.split(" ")[0];
		}
	} else if(str.indexOf("imgur.com/") != -1) {
		var image = str.split('imgur.com/')[1];
		if(image.split("/")[0] == "gallery") {
			image = image.split("/")[1];
			media.imgur = "http://i.imgur.com/" + image.split(" ")[0] + ".png";
		} else {
			image = image.split("/")[0];
			media.imgur = "http://i.imgur.com/" + image.split(" ")[0] + ".png";
		}
	}

	if(str.indexOf("soundcloud.com") != -1) { //May contain a soundcloud link
		id_startpos = str.indexOf("http");
		soundlink = str.substring(id_startpos);
		soundlink = soundlink.split(" ")[0];
		media.soundcloud = soundlink;
	}

	if(str.indexOf("puu.sh") != -1) { //May contain a soundcloud link
		id_startpos = str.indexOf("puu.sh") + 7;
		puush = str.substring(id_startpos);
		puush = puush.split(" ")[0];
		media.puush = puush;
		console.log(puush);
	}

	return media;

};